<!DOCTYPE html>
<!-- saved from url=(0074)https://selab.hanyang.ac.kr/courses/cse326/2019/labs/lab10-bookSearch.html -->
<html lang="en">

    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <meta charset="UTF-8">
        <link rel="stylesheet" href="../slide.css">
        <script type="text/javascript" src="../jquery-3.4.1.min.js"></script>
        <script type="text/javascript" src="../slide.js"></script>
        <title>Ajax & XML & JSON - Week 14</title>
    </head>

<body>
    <div class="layout">
        <div id="controls">
            <form action="https://selab.hanyang.ac.kr/courses/cse326/2019/labs/lab10-bookSearch.html#" id="controlForm"
                undefined="">
                <div id="navLinks">
                    <div id="navaLinks">
                        <a accesskey="t" id="toggle" title="Print View"
                            href="javascript:printView();">Ø</a>
                        <a accesskey="z" id="prev" title="Previous Slide"
                            href="javascript:moveSlide(-1);">«</a>
                        <a accesskey="x" id="next" title="Next Slide"
                            href="javascript:moveSlide(1);">»</a>
                    </div>
                    <div id="navList"><select id="jumplist" onchange="jumpSlide();">
                            <option value="0 : CSE3026: Web Application Development  Lab 10: Book Search">0 : CSE3026:
                                Web Application Development Lab 10: Book Search</option>
                            <option value="1 : Lab 10: Book Search">1 : Lab 10: Book Search</option>
                            <option value="2 : Lab 10: Book Store Service">2 : Lab 10: Book Store Service</option>
                            <option value="3 : Lab 10 exercises">3 : Lab 10 exercises</option>
                            <option value="4 : Ex 1: Fetch data from Book Store service">4 : Ex 1: Fetch data from Book
                                Store service</option>
                            <option value="5 : Ex 1: screenshot">5 : Ex 1: screenshot</option>
                            <option value="6 : Ex 2: Process XML data">6 : Ex 2: Process XML data</option>
                            <option value="7 : Ex 2: screenshot">7 : Ex 2: screenshot</option>
                            <option value="8 : Ex 3: Create a new Book Store service">8 : Ex 3: Create a new Book Store
                                service</option>
                            <option value="9 : Ex 4: Fetch data from the new Book Store service">9 : Ex 4: Fetch data
                                from the new Book Store service</option>
                            <option value="10 : Ex 4: screenshot">10 : Ex 4: screenshot</option>
                            <option value="11 : Ex 5: Process JSON data">11 : Ex 5: Process JSON data</option>
                            <option value="12 : Ex 5: screenshot">12 : Ex 5: screenshot</option>
                            <option value="13 : If you finish them all...">13 : If you finish them all...</option>
                        </select></div>
                </div>
            </form>
        </div>
        <div id="currentSlide">
            <!-- DO NOT EDIT -->
        </div>
        <div id="header"></div>
        <div id="footer">
            <h1>CSE3026: Web Application Development</h1>
            <h2>Lab 10: Book Search</h2>
        </div>
    </div>

    <div class="presentation">
        <div class="slide" id="slide0">
            <h1><span class="smallerFont">CSE3026: Web Application Development</span> <br> <strong>Lab 10: Book
                    Search</strong></h1>
            <br>
            <h2>Scott Uk-Jin Lee</h2>

            <p class="license">
                Except where otherwise noted, the contents of this document are
                Copyright 2019 Scott Uk-Jin Lee.

                All rights reserved.
                Any redistribution, reproduction, transmission, or storage of part
                or all of the contents in any form is prohibited without the author's
                expressed written permission.
            </p>

            <div class="w3c">
                <a href="https://validator.w3.org/check/referer"><img
                        src="./CSE3026 Lab 10_ Book Search_files/w3c-html.png" alt="Valid HTML5"></a>
                <a href="https://jigsaw.w3.org/css-validator/check/referer"><img
                        src="./CSE3026 Lab 10_ Book Search_files/w3c-css.png" alt="Valid CSS"></a>
            </div>
        </div>

        <div class="slide" id="slide1">
            <h1>Lab 10: Book Search</h1>

            <p>Lab 10: Book Search - create the appropriate JavaScript and PHP for <q>Book Search</q> web page </p>

            <hr>

            <p>
                The <q>Book Search</q> web page allows user to select the category of books,
                search books that are for sale from the <q>Book Store</q> service, and list them out.
            </p>

            <p>
                The <q>Book Search</q> page has a linked Javascript (<code>book_search.js</code>)
                that will fetch the data from the <code>books.php</code> service using Ajax, process it, and displays
                the results.
            </p>
        </div>


        <div class="slide" id="slide2">
            <h1>Lab 10: Book Store Service</h1>

            <p>
                The <q>Book Store</q> (<code>books.php</code>) service searches the <code>books.txt</code> file on the
                server
                according to the given value for the <code>category</code> parameter and returns the search results in
                XML format.
            </p>

            <p>
                For example, <code>books.php?category=cooking</code> will return the following XML data :
            </p>

            <pre class="examplecode xml compressed">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;books&gt;
    &lt;book category="cooking"&gt;
        &lt;title&gt;Breakfast for Dinner&lt;/title&gt;
        &lt;author&gt;Amanda Camp&lt;/author&gt;
        &lt;year&gt;2009&lt;/year&gt;
        &lt;price&gt;22.00&lt;/price&gt;
    &lt;/book&gt;
    &lt;book category="cooking"&gt;
        &lt;title&gt;21 Burgers for the 21st Century&lt;/title&gt;
        &lt;author&gt;Stuart Reges&lt;/author&gt;
        &lt;year&gt;2010&lt;/year&gt;
        &lt;price&gt;75.00&lt;/price&gt;
    &lt;/book&gt;
    ...
&lt;/books&gt;
</pre>
        </div>


        <div class="slide" id="slide3">
            <h1>Lab 10 exercises</h1>

            <p>
                Download the <a
                    href="https://selab.hanyang.ac.kr/courses/cse326/2019/labs/labResources/bookSearch.zip"><code>bookSearch.zip</code></a>
                and complete the following exercises.
            </p>

            <ol>
                <li>Fetch data from <q>Book Store</q> service</li>
                <li>Process XML data</li>
                <li>Create a new <q>Book Store</q> service</li>
                <li>Fetch data from the new <q>Book Store</q> service</li>
                <li>Process JSON data</li>
            </ol>

            <ul>
                <li>Do NOT modify <code>book_search.html</code>, <code>books.php</code>, and <code>books.txt</code> till
                    you finish Ex 1 - 4</li>
            </ul>
        </div>


        <div class="slide" id="slide4">
            <h1>Ex <span class="exercisenumber">1</span>: Fetch data from <q>Book Store</q> service</h1>

            <p class="readbeforestarting">
                (See example screenshot on next slide.)
            </p>

            <p>
                Modify the <code>book_search.js</code> to fetch data from the <q>Book Store</q> service using Ajax.
            </p>

            <ul>
                <li>
                    Construct a Prototype <code>Ajax.request</code> object to request:
                    <ul>
                        <li>when the <q>List Books (XML)</q> button is clicked</li>
                        <li>a book data from the <code>books.php</code> service </li>
                        <li>using <code>GET</code> method</li>
                        <li>with parameter named <code>category</code> and the value returned from
                            <code>getCheckedRadio</code> function
                            <ul>
                                <li>
                                    write <code>$$</code> function to get the array of radio button objects
                                    &amp; use it as an argument to the function
                                </li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li>
                    Attach event-handler to Ajax events:
                    <ul>
                        <li><code>showBooks_XML</code> function should handle <code>onSucess</code> event</li>
                        <li><code>ajaxFailed</code> function should handle <code>onFailure</code> and
                            <code>onException</code> event</li>
                    </ul>
                </li>
            </ul>
        </div>



        <div class="slide" id="slide5">
            <h1>Ex <span class="exercisenumber noincrement">1</span>: screenshot</h1>

            <p>
                When the <q>List Books (XML)</q> button is clicked, a pop-up window appear as shown below:
            </p>

            <div class="outputimagearea">
                <img src="./CSE3026 Lab 10_ Book Search_files/ex1_output.png" alt="expected output">
            </div>
        </div>



        <div class="slide" id="slide6">
            <h1>Ex <span class="exercisenumber">2</span>: Process XML data</h1>

            <p class="readbeforestarting">
                (See example screenshot on next slide.)
            </p>

            <p>
                Modify the <code>showBooks_XML</code> function to process the fetched XML data.
            </p>

            <ul>
                <li>Clear out the previous list items inside <code>ul</code> with id <q>books</q></li>
                <li>
                    For each book returned for the selected category,
                    display the result as <code>li</code> insdie the <code>ul</code>
                    with the format : <strong>title</strong>, by <strong>author</strong> (year)
                    <ol>
                        <li>find all <q>books</q> XML elements from the Ajax response object</li>
                        <li>for each element, create <code>li</code> element</li>
                        <li>find text values inside <code>title</code>, <code>author</code>, and <code>year</code>
                            elements</li>
                        <li>set text value inside created <code>li</code> element according to the given format</li>
                        <li>append the <code>li</code> to the <code>ul</code> with id <q>books</q></li>
                    </ol>
                </li>
            </ul>
        </div>



        <div class="slide" id="slide7">
            <h1>Ex <span class="exercisenumber noincrement">2</span>: screenshot</h1>

            <p>
                When the <q>List Books (XML)</q> button is clicked, list items should update as shown below :
            </p>

            <div class="outputimagearea">
                <img src="./CSE3026 Lab 10_ Book Search_files/ex2_output.png" alt="expected output">
            </div>
        </div>



        <div class="slide" id="slide8">
            <h1>Ex <span class="exercisenumber">3</span>: Create a new <q>Book Store</q> service</h1>

            <p>
                Let's create a new <q>Book Store</q> service that returns the search results in JSON data format.
                Write your code in the given <code>books_json.php</code> to :
            </p>

            <ol>
                <li> read the <code>books.txt</code> file</li>
                <li>
                    search all the books that matches the given category
                    <ol>
                        <li>go through each line of <code>books.txt</code> file</li>
                        <li>use <code>explode</code> function to extract infomation about the book</li>
                        <li>
                            if the <q>category</q> information of the book matches the given value for the category
                            parameter,
                            store/generate the book and its information as a part of the search result
                        </li>
                    </ol>
                </li>
                <li>generate the search result in JSON data format</li>
            </ol>
        </div>



        <div class="slide" id="slide9">
            <h1>Ex <span class="exercisenumber">4</span>: Fetch data from the new <q>Book Store</q> service</h1>

            <p class="readbeforestarting">
                (See example screenshot on next slide.)
            </p>

            <p>
                Modify the <code>book_search.js</code> to fetch data from the new <q>Book Store</q> service using Ajax.
            </p>

            <ul>
                <li>
                    Construct a Prototype <code>Ajax.request</code> object to request:
                    <ul>
                        <li>when the <q>List Books (JSON)</q> button is clicked</li>
                        <li>a book data from the <code>books_json.php</code> service </li>
                        <li>using <code>GET</code> method</li>
                        <li>with parameter named <code>category</code> and the value returned from
                            <code>getCheckedRadio</code> function
                            <ul>
                                <li>
                                    write <code>$$</code> function to get the array of radio button objects
                                    &amp; use it as an argument to the function
                                </li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li>
                    Attach event-handler to Ajax events:
                    <ul>
                        <li><code>showBooks_JSON</code> function should handle <code>onSucess</code> event</li>
                        <li><code>ajaxFailed</code> function should handle <code>onFailure</code> and
                            <code>onException</code> event</li>
                    </ul>
                </li>
            </ul>
        </div>



        <div class="slide" id="slide10">
            <h1>Ex <span class="exercisenumber noincrement">4</span>: screenshot</h1>

            <p>
                When the <q>List Books (JSON)</q> button is clicked, a pop-up window appear as shown below:
            </p>

            <div class="outputimagearea">
                <img src="./CSE3026 Lab 10_ Book Search_files/ex3_output.png" alt="expected output">
            </div>
        </div>



        <div class="slide" id="slide11">
            <h1>Ex <span class="exercisenumber">5</span>: Process JSON data</h1>

            <p class="readbeforestarting">
                (See example screenshot on next slide.)
            </p>

            <p>
                Modify the <code>showBooks_JSON</code> function to process the fetched JSON data.
            </p>

            <ul>
                <li>Clear out the previous list items inside <code>ul</code> with id <q>books</q></li>
                <li>
                    For each book returned for the selected category,
                    display the result as <code>li</code> insdie the <code>ul</code>
                    with the format : <strong>title</strong>, by <strong>author</strong> (year)
                    <ol>
                        <li>parse Ajax response object's textual value into a JavaScript object</li>
                        <li>for each book in the parsed object, create <code>li</code> element</li>
                        <li>find <q>title</q>, <q>author</q>, and <q>year</q> value from the parsed object</li>
                        <li>set text value inside created <code>li</code> element according to the given format</li>
                        <li>append the <code>li</code> to the <code>ul</code> with id <q>books</q></li>
                    </ol>
                </li>
            </ul>
        </div>



        <div class="slide" id="slide12">
            <h1>Ex <span class="exercisenumber noincrement">5</span>: screenshot</h1>

            <p>
                When the <q>List Books (JSON)</q> button is clicked, list items should update as shown below :
            </p>

            <div class="outputimagearea">
                <img src="./CSE3026 Lab 10_ Book Search_files/ex2_output.png" alt="expected output">
            </div>
        </div>



        <div class="slide" id="slide13">
            <h1>If you finish them all...</h1>

            <p>If you finish all the exercises:</p>

            <ol>
                <li>you can add any other content or function you like to your page</li>
                <li><strong>check the correctness</strong> of your page with a TA if necessary</li>
                <li>submit your <code>book_search.js</code> and <code>books_json.php</code> files to your
                    <code>Git</code> repository under <code>lab10</code> folder</li>
            </ol>

            <p><strong>Great work!</strong></p>
        </div>


    </div>




</body>

</html>